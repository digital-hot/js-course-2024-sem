/*! For license information please see app.js.LICENSE.txt */
(()=>{"use strict";const e={contacts:[{id:1,firstName:"John",lastName:"Doe",phone:"+1-202-555-0101",email:"john.doe@example.com",description:"Software Engineer at Tech Corp."},{id:2,firstName:"Jane",lastName:"Smith",phone:"+1-202-555-0102",email:"jane.smith@example.com",description:"Project Manager with a focus on IT projects."},{id:3,firstName:"Michael",lastName:"Johnson",phone:"+1-202-555-0103",email:"michael.johnson@example.com",description:"UI/UX Designer at Creative Studio."},{id:4,firstName:"Emily",lastName:"Davis",phone:"+1-202-555-0104",email:"emily.davis@example.com",description:"Data Analyst with expertise in big data."},{id:5,firstName:"David",lastName:"Wilson",phone:"+1-202-555-0105",email:"david.wilson@example.com",description:"DevOps Engineer at Cloud Solutions."},{id:6,firstName:"Sarah",lastName:"Brown",phone:"+1-202-555-0106",email:"sarah.brown@example.com",description:"Content Writer and Marketing Specialist."},{id:7,firstName:"James",lastName:"Williams",phone:"+1-202-555-0107",email:"james.williams@example.com",description:"Cybersecurity Expert with 10 years of experience."},{id:8,firstName:"Olivia",lastName:"Jones",phone:"+1-202-555-0108",email:"olivia.jones@example.com",description:"HR Manager specializing in IT recruitment."},{id:9,firstName:"Robert",lastName:"Miller",phone:"+1-202-555-0109",email:"robert.miller@example.com",description:"Full-Stack Developer working with JavaScript and Python."},{id:10,firstName:"Sophia",lastName:"Anderson",phone:"+1-202-555-0110",email:"sophia.anderson@example.com",description:"Business Analyst focusing on process optimization."}],lastId:10,add(e){this.lastId++,e.id=this.lastId,this.contacts.push(e)},remove(e){let t=this.contacts.findIndex((t=>t.id==e));this.contacts.splice(t,1)},update(e,t){let n=this.contacts.findIndex((t=>t.id==e));this.contacts[n]=t},find(e){let t=this.contacts.findIndex((t=>t.id==e));return this.contacts[t]}};var t=Object.prototype.toString,n=Array.isArray||function(e){return"[object Array]"===t.call(e)};function r(e){return"function"==typeof e}function i(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function a(e,t){return null!=e&&"object"==typeof e&&t in e}var o=RegExp.prototype.test,s=/\S/;var c={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},l=/\s*/,p=/\s+/,u=/\s*=/,h=/\s*\}/,d=/#|\^|\/|>|\{|&|=|!/;function f(e){this.string=e,this.tail=e,this.pos=0}function m(e,t){this.view=e,this.cache={".":this.view},this.parent=t}function v(){this.templateCache={_cache:{},set:function(e,t){this._cache[e]=t},get:function(e){return this._cache[e]},clear:function(){this._cache={}}}}f.prototype.eos=function(){return""===this.tail},f.prototype.scan=function(e){var t=this.tail.match(e);if(!t||0!==t.index)return"";var n=t[0];return this.tail=this.tail.substring(n.length),this.pos+=n.length,n},f.prototype.scanUntil=function(e){var t,n=this.tail.search(e);switch(n){case-1:t=this.tail,this.tail="";break;case 0:t="";break;default:t=this.tail.substring(0,n),this.tail=this.tail.substring(n)}return this.pos+=t.length,t},m.prototype.push=function(e){return new m(e,this)},m.prototype.lookup=function(e){var t,n,i,o=this.cache;if(o.hasOwnProperty(e))t=o[e];else{for(var s,c,l,p=this,u=!1;p;){if(e.indexOf(".")>0)for(s=p.view,c=e.split("."),l=0;null!=s&&l<c.length;)l===c.length-1&&(u=a(s,c[l])||(n=s,i=c[l],null!=n&&"object"!=typeof n&&n.hasOwnProperty&&n.hasOwnProperty(i))),s=s[c[l++]];else s=p.view[e],u=a(p.view,e);if(u){t=s;break}p=p.parent}o[e]=t}return r(t)&&(t=t.call(this.view)),t},v.prototype.clearCache=function(){void 0!==this.templateCache&&this.templateCache.clear()},v.prototype.parse=function(e,t){var r=this.templateCache,a=e+":"+(t||g.tags).join(":"),c=void 0!==r,m=c?r.get(a):void 0;return null==m&&(m=function(e,t){if(!e)return[];var r,a,c,m,v=!1,y=[],w=[],x=[],b=!1,N=!1,C="",S=0;function T(){if(b&&!N)for(;x.length;)delete w[x.pop()];else x=[];b=!1,N=!1}function E(e){if("string"==typeof e&&(e=e.split(p,2)),!n(e)||2!==e.length)throw new Error("Invalid tags: "+e);r=new RegExp(i(e[0])+"\\s*"),a=new RegExp("\\s*"+i(e[1])),c=new RegExp("\\s*"+i("}"+e[1]))}E(t||g.tags);for(var j,k,I,U,A,M,P=new f(e);!P.eos();){if(j=P.pos,I=P.scanUntil(r))for(var q=0,D=I.length;q<D;++q)m=U=I.charAt(q),function(e,t){return o.call(e,t)}(s,m)?(N=!0,v=!0,C+=" "):(x.push(w.length),C+=U),w.push(["text",U,j,j+1]),j+=1,"\n"===U&&(T(),C="",S=0,v=!1);if(!P.scan(r))break;if(b=!0,k=P.scan(d)||"name",P.scan(l),"="===k?(I=P.scanUntil(u),P.scan(u),P.scanUntil(a)):"{"===k?(I=P.scanUntil(c),P.scan(h),P.scanUntil(a),k="&"):I=P.scanUntil(a),!P.scan(a))throw new Error("Unclosed tag at "+P.pos);if(A=">"==k?[k,I,j,P.pos,C,S,v]:[k,I,j,P.pos],S++,w.push(A),"#"===k||"^"===k)y.push(A);else if("/"===k){if(!(M=y.pop()))throw new Error('Unopened section "'+I+'" at '+j);if(M[1]!==I)throw new Error('Unclosed section "'+M[1]+'" at '+j)}else"name"===k||"{"===k||"&"===k?N=!0:"="===k&&E(I)}if(T(),M=y.pop())throw new Error('Unclosed section "'+M[1]+'" at '+P.pos);return function(e){for(var t,n=[],r=n,i=[],a=0,o=e.length;a<o;++a)switch((t=e[a])[0]){case"#":case"^":r.push(t),i.push(t),r=t[4]=[];break;case"/":i.pop()[5]=t[2],r=i.length>0?i[i.length-1][4]:n;break;default:r.push(t)}return n}(function(e){for(var t,n,r=[],i=0,a=e.length;i<a;++i)(t=e[i])&&("text"===t[0]&&n&&"text"===n[0]?(n[1]+=t[1],n[3]=t[3]):(r.push(t),n=t));return r}(w))}(e,t),c&&r.set(a,m)),m},v.prototype.render=function(e,t,n,r){var i=this.getConfigTags(r),a=this.parse(e,i),o=t instanceof m?t:new m(t,void 0);return this.renderTokens(a,o,n,e,r)},v.prototype.renderTokens=function(e,t,n,r,i){for(var a,o,s,c="",l=0,p=e.length;l<p;++l)s=void 0,"#"===(o=(a=e[l])[0])?s=this.renderSection(a,t,n,r,i):"^"===o?s=this.renderInverted(a,t,n,r,i):">"===o?s=this.renderPartial(a,t,n,i):"&"===o?s=this.unescapedValue(a,t):"name"===o?s=this.escapedValue(a,t,i):"text"===o&&(s=this.rawValue(a)),void 0!==s&&(c+=s);return c},v.prototype.renderSection=function(e,t,i,a,o){var s=this,c="",l=t.lookup(e[1]);if(l){if(n(l))for(var p=0,u=l.length;p<u;++p)c+=this.renderTokens(e[4],t.push(l[p]),i,a,o);else if("object"==typeof l||"string"==typeof l||"number"==typeof l)c+=this.renderTokens(e[4],t.push(l),i,a,o);else if(r(l)){if("string"!=typeof a)throw new Error("Cannot use higher-order sections without the original template");l=l.call(t.view,a.slice(e[3],e[5]),(function(e){return s.render(e,t,i,o)})),null!=l&&(c+=l)}else c+=this.renderTokens(e[4],t,i,a,o);return c}},v.prototype.renderInverted=function(e,t,r,i,a){var o=t.lookup(e[1]);if(!o||n(o)&&0===o.length)return this.renderTokens(e[4],t,r,i,a)},v.prototype.indentPartial=function(e,t,n){for(var r=t.replace(/[^ \t]/g,""),i=e.split("\n"),a=0;a<i.length;a++)i[a].length&&(a>0||!n)&&(i[a]=r+i[a]);return i.join("\n")},v.prototype.renderPartial=function(e,t,n,i){if(n){var a=this.getConfigTags(i),o=r(n)?n(e[1]):n[e[1]];if(null!=o){var s=e[6],c=e[5],l=e[4],p=o;0==c&&l&&(p=this.indentPartial(o,l,s));var u=this.parse(p,a);return this.renderTokens(u,t,n,p,i)}}},v.prototype.unescapedValue=function(e,t){var n=t.lookup(e[1]);if(null!=n)return n},v.prototype.escapedValue=function(e,t,n){var r=this.getConfigEscape(n)||g.escape,i=t.lookup(e[1]);if(null!=i)return"number"==typeof i&&r===g.escape?String(i):r(i)},v.prototype.rawValue=function(e){return e[1]},v.prototype.getConfigTags=function(e){return n(e)?e:e&&"object"==typeof e?e.tags:void 0},v.prototype.getConfigEscape=function(e){return e&&"object"==typeof e&&!n(e)?e.escape:void 0};var g={name:"mustache.js",version:"4.2.0",tags:["{{","}}"],clearCache:void 0,escape:void 0,parse:void 0,render:void 0,Scanner:void 0,Context:void 0,Writer:void 0,set templateCache(e){y.templateCache=e},get templateCache(){return y.templateCache}},y=new v;g.clearCache=function(){return y.clearCache()},g.parse=function(e,t){return y.parse(e,t)},g.render=function(e,t,r,i){if("string"!=typeof e)throw new TypeError('Invalid template! Template should be a "string" but "'+(n(a=e)?"array":typeof a)+'" was given as the first argument for mustache#render(template, view, partials)');var a;return y.render(e,t,r,i)},g.escape=function(e){return String(e).replace(/[&<>"'`=\/]/g,(function(e){return c[e]}))},g.Scanner=f,g.Context=m,g.Writer=v;const w=g,x={render(e,t){e.forEach((e=>{let n=document.createElement("section");n.classList.add("contact"),n.insertAdjacentHTML("beforeend",`<h2>${e.firstName} ${e.lastName}</h2>`),n.insertAdjacentHTML("beforeend",`<p>Phone: ${e.phone}</p>`),n.insertAdjacentHTML("beforeend",`<p>Email: ${e.email}</p>`),n.insertAdjacentHTML("beforeend",`<p>${e.description}</p>`),t.appendChild(n)}))},renderWithTemplate(e,t,n){let r="";e.forEach((e=>{r+=w.render(n,e)})),t.innerHTML=r}},b=document.querySelector("#contact-list"),N=document.querySelector("#template").innerHTML,C=document.querySelector("#contactForm"),S=document.querySelector("#firstNameInput"),T=document.querySelector("#lastNameInput"),E=document.querySelector("#phoneInput"),j=document.querySelector("#emailInput"),k=document.querySelector("#descriptionInput");let I=null;function U(){x.renderWithTemplate(e.contacts,b,N)}C.addEventListener("submit",(function(t){t.preventDefault();let n={firstName:S.value,lastName:T.value,phone:E.value,email:j.value,description:k.value};null==I?e.add(n):(e.update(I,n),I=null),U()})),window.remove=function(t){e.remove(t),U()},window.edit=function(t){const n=e.find(t);I=n.id,S.value=n.firstName,T.value=n.lastName,E.value=n.phone,j.value=n.email,k.value=n.description,U()},U()})();